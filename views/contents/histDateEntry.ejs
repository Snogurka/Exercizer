<!-- entry section date part -->
<!-- entryOutput comes from history.ejs -->

<!-- date is extracted from Mongo (accurate) and passed from histories.js via outputSet:entries to history.ejs then via entryOutput:entry to this file, histEntry.ejs; UTC options are used to make sure correct local date is shown; toISO.. is better than toUTC.. (older) -->
<% let options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
  options.timeZone = 'UTC';
  const dt = entryOutput.entryDate.toISOString().split('T')[0];
  const prettyDate = entryOutput.entryDate.toLocaleDateString('en-US', options);
%>
<div class="row dateShade">
  <!-- store date value as a short string needed for editing -->
  <input type="date" name="entryDate" class="histElt hidden col6" value="<%= dt %>" readonly>
  <!-- display pretty date initially -->
  <input class="histElt displayDate col6" value="<%= prettyDate%>" readonly>

  <div class="col1"></div>
  <!-- entry editing buttons -->  
  <div class="editingButtons row col5">
    <button type="button" class="more edits" onclick="btnEditClk(event.target)">✏️</button>
    <!-- entry id, unique, generated by MongoDB, used here to delete or edit entries -->
    <button type="submit" class="more hidden" 
    onclick='this.form.action="/history/<%= entryOutput.id %>?_method=put"'>✓</button>
    <button type="submit" class="more hidden" 
    onclick='this.form.action="/history/<%= entryOutput.id %>?_method=delete"'>🗑</button>
  </div>
</div>

<section class="workoutEntry">
  <% for (let i = 0; i < entryOutput.muscleGroup.length; i++) {  %>
    <%- include("histWorkoutEntry.ejs", {counter: i}) %> 
  <% } %>

</section>